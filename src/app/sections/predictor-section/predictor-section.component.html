<section class="section section-lg section-shaped">
  <div class="shape shape-style-1 shape-default">
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
  </div>
  <div class="container py-md">
    <div class="row row-grid justify-content-between align-items-center">
      <div class="col-lg-6">
        <h3 class="display-3 text-white">Predictor
          <span class="text-white">Supported file formats: PE</span>
        </h3>
        <p class="lead text-white">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor
          incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco
          laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit
          esse cillum dolore eu fugiat nulla pariatur.</p>
      </div>
      <div class="col-lg-5 mb-lg-auto">
        <div class="">
          <div class="card bg-secondary shadow border-0">
            <div class="card-header bg-white pb-3">
              <div class="text-muted text-center mb-3">
                <p class="h2">Upload your binary</p>
              </div>
            </div>
            <div class="card-body px-lg-5 py-lg-5">
              <div *ngIf="apiPing" class="alert alert-success" role="alert">
                API status: <strong>Up</strong>
              </div>
              <div *ngIf="!apiPing" class="alert alert-danger" role="alert">
                API status: <strong>Down</strong>
              </div>
              <form [formGroup]="form" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
                <div class="form-group mb-3">
                  <div class="input-group input-group-alternative">
                    <input class="form-control-file" type="file" name="binary" (change)="onFileChange($event)"
                      [attr.disabled]="!apiPing ? '' : null" />
                  </div>
                </div>
                <div *ngIf="fileMissing" class="alert alert-danger" role="alert">
                  <strong>Error!</strong> select file first
                </div>
                <div class="text-center">
                  <button type="submit" class="btn btn-primary my-4"
                    [attr.disabled]="!apiPing ? '' : null">Upload</button>
                </div>
              </form>
              <div *ngIf="result && !uploadProgressService.uploading" class="row mt-3">
                <div class="col-6">
                  <div class="alert alert-success" role="alert">
                    <strong>Benign: </strong>
                    <br>
                    {{result.benign*100 | number: '.2'}}%
                  </div>
                </div>
                <div class="col-6 text-right">
                  <div class="alert alert-danger" role="alert">
                    <strong>Malware: </strong>
                    <br>
                    {{result.malware*100 | number: '.2'}}%
                  </div>
                </div>
              </div>
              <div *ngIf="uploadProgressService.uploading" class="mt-3">
                <ngb-progressbar type="info" [value]="100" [striped]="true" [animated]="true" height="48px">
                  Uploading...
                </ngb-progressbar>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>